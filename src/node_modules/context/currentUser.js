import React,{createContext,useReducer} from 'react'
const initialState ={
    isLoading:false,
    isLoggedIn:false,
    currentUser:null
}
const reducer=(state,action)=>{
    switch(action.type){
        case 'LOADING': return {
            ...state,
            isLoading:true
        }
        case 'SET_AUTHORISED': return {
            ...state,
            isLoading:false,
            isLoggedIn:true,
            currentUser:action.payload
        }
        case 'SET_UNAUTHORISED': return {
            ...state,
            isLoggedIn:false
        }
        default : return state
    }
}
export const CurrentUserContext=createContext()

export const CurrentUserProvider=({children})=>{
    
  const value =useReducer(reducer,initialState)

    return(
    <CurrentUserContext.Provider value={value}>
        {children}
    </CurrentUserContext.Provider>
    )
}